preprocess:
  cmd: python -m spacy run preprocess
  script:
    - python scripts/convert_corpus.py
  deps:
    - path: assets/bottins.csv
      md5: fd15921c83c04507f0515064616787fa
  outs:
    - path: corpus/train.spacy
      md5: bd7f7e3f3dd5a00b8645b67025e1860e
    - path: corpus/dev.spacy
      md5: 1c43b5d769a58b89c13c6eba3d59264e
    - path: corpus/test.spacy
      md5: b53ba3fd4f16a7a7be9df717fc83db78
  spacy_version: 3.6.1
  spacy_git_version: 458bc5f45
train:
  cmd: python -m spacy run train
  script:
    - python -m spacy train ./configs/bert.cfg -o training/bert --gpu-id -1
  deps:
    - path: corpus/train.spacy
      md5: bd7f7e3f3dd5a00b8645b67025e1860e
    - path: corpus/dev.spacy
      md5: 1c43b5d769a58b89c13c6eba3d59264e
    - path: configs/bert.cfg
      md5: e4853a8c868f28c5c2fe6dd9d1c2634b
  outs:
    - path: training/bert/model-best
      md5: df28d6191299a887b36c2f54d353d21b
  spacy_version: 3.6.1
  spacy_git_version: 458bc5f45
evaluate:
  cmd: python -m spacy run evaluate
  script:
    - python -m spacy evaluate ./training/bert/model-best ./corpus/test.spacy --output
      ./metrics/bert.json
  deps:
    - path: training/bert/model-best
      md5: df28d6191299a887b36c2f54d353d21b
    - path: corpus/test.spacy
      md5: b53ba3fd4f16a7a7be9df717fc83db78
  outs:
    - path: metrics/bert.json
      md5: 5d61464ef7b2d942093e70925afa86ff
  spacy_version: 3.6.1
  spacy_git_version: 458bc5f45
package:
  cmd: python -m spacy run package
  script:
    - python -m spacy package ./training/bert/model-best packages/ --name ner_dataset
      --force --version 0.0.1 --build wheel --meta-path ./training/bert/model-best/meta.json
  deps:
    - path: training/bert/model-best
      md5: df28d6191299a887b36c2f54d353d21b
  outs:
    - path: packages/ner_dataset-0.0.1/dist/ner_dataset-0.0.1.tar.gz
      md5: null
  spacy_version: 3.6.1
  spacy_git_version: 458bc5f45
